"use strict";angular.module("jsbb.angularTicker",[]),angular.module("jsbb.angularTicker").factory("TickerSrv",["$interval",function(a){var b={},c=1e3,d=function(a){a.delay=a.interval,a.isPending=!1},e=function(a){a.isPending||(a.isPending=!0,a.tick().then(function(){d(a)},function(){d(a)}))},f=function(a){a.tick(),d(a)},g=function(){angular.forEach(b,function(a){if(a.delay-=c,a.delay<=0)try{a.isBlocking?e(a):f(a)}catch(b){console.log(b),d(a)}})},h=function(){a(g,c),g()},i={register:function(a,c,d,e,f){void 0===d&&(d=1e3),void 0===e&&(e=0),void 0===f&&(f=!0),b[a]={id:a,tick:c,interval:d,delay:e,isBlocking:f,isPending:!1}},unregister:function(a){delete b[a]},unregisterAll:function(){b={}}};return h(),i}]);